<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nadia & Luis | Cuentos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <script>tailwind.config = { theme: { extend: { fontFamily: { serif: ['"Playfair Display"', 'serif'], sans: ['"Inter"', 'sans-serif'] } } } }</script>
    <style>
        body { background-color: #FAFAFA; color: #2D1B2E; overflow-x: hidden; }
        .noise-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; opacity: 0.04; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,255,255,0.3); }
        .nav-link.active { color: #E11D48; font-weight: 600; }
        /* Modal Transitions */
        .modal { transition: opacity 0.3s ease-in-out; }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <div class="noise-bg"></div>
    <canvas id="particleCanvas" class="fixed top-0 left-0 w-full h-full -z-10 opacity-50"></canvas>

    <nav class="fixed top-0 left-0 w-full z-50 glass-nav">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="index.html" class="flex-shrink-0 cursor-pointer"><span class="font-serif text-2xl md:text-3xl text-gray-900 tracking-tight">N <span class="text-rose-400 font-light">&</span> L</span></a>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="index.html" class="nav-link text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Inicio</a>
                    <a href="recuerdos.html" class="nav-link text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Recuerdos</a>
                    <a href="cuentos.html" class="nav-link active text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Cuentos</a>
                    <a href="detalles.html" class="nav-link text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Detalles</a>
                    <a href="razones.html" class="nav-link text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Por Qu√©</a>
                    <a href="tiempo.html" class="nav-link text-sm uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors">Tiempo</a>
                </div>
                <button id="mobile-menu-btn" class="md:hidden text-gray-600"><i data-lucide="menu"></i></button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-xl absolute w-full border-b border-gray-100">
            <div class="px-4 pt-2 pb-6 space-y-1 flex flex-col items-center">
                <a href="index.html" class="py-3 text-sm text-gray-600">Inicio</a>
                <a href="recuerdos.html" class="py-3 text-sm text-gray-600">Recuerdos</a>
                <a href="cuentos.html" class="py-3 text-sm font-bold text-rose-500">Cuentos</a>
                <a href="detalles.html" class="py-3 text-sm text-gray-600">Detalles</a>
                <a href="razones.html" class="py-3 text-sm text-gray-600">Por Qu√©</a>
                <a href="tiempo.html" class="py-3 text-sm text-gray-600">Tiempo</a>
            </div>
        </div>
    </nav>

    <main class="flex-grow pt-24 pb-12 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="mb-12 text-center border-b border-gray-200 pb-8">
                <span class="text-rose-400 font-serif italic text-xl">Biblioteca de amor</span>
                <h2 class="font-serif text-5xl text-gray-900">Nuestros Cuentos</h2>
            </div>
            <!-- Grid ajustado: m√°s columnas para hacer las tarjetas m√°s peque√±as -->
            <div id="stories-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Data Injected -->
            </div>
        </div>
    </main>

    <!-- Story Modal -->
    <!-- Agregado 'flex' para centrado inicial, pero oculto con 'hidden' -->
    <div id="story-modal" class="hidden fixed inset-0 z-[100] items-center justify-center p-4 bg-gray-900/30 backdrop-blur-md modal opacity-0">
        <div id="story-modal-content" class="bg-white rounded-[2rem] p-8 md:p-12 max-w-4xl w-full shadow-2xl relative max-h-[90vh] flex flex-col mx-4"></div>
    </div>

    <footer class="py-6 text-center text-gray-400 text-xs uppercase tracking-widest border-t border-gray-100">Hecho con amor ‚Ä¢ 2025</footer>

    <script>
        document.getElementById('mobile-menu-btn').addEventListener('click', () => { document.getElementById('mobile-menu').classList.toggle('hidden'); });

        const STORIES_DATA = [
            { id: 1, title: "NEMO", summary: "Un pececito desobediente se pierde y su padre cruza todo el oc√©ano para encontrarlo.", body: `Hab√≠a una vez un pez chiquito. Su pap√° pez le dijo que no nadara lejos, pero no hizo caso. Lo atraparon unos humanos y se lo llevaron. Entonces, su pap√° cruz√≥ todo el oc√©ano busc√°ndolo, con la ayuda de una pez olvidadiza. Pasaron muchas aventuras, hasta que al fin lo encontraron. Y todos aprendieron a confiar m√°s‚Ä¶ y a no salirse del arrecife sin avisar. Fin. üê†üíô`, author: "Luis" },
            { id: 2, title: "WALL-E", summary: "Un robot solitario se queda limpiando la Tierra hasta que se enamora.", body: `"Hab√≠a un peque√±o robot que se qued√≥ solo en la Tierra limpiando basura, porque los humanos la hab√≠an abandonado por estar llena de desechos. Su √∫nico amigo era una cucaracha y cada d√≠a guardaba cosas que encontraba interesantes. Un d√≠a lleg√≥ otro robot moderno con una misi√≥n: buscar vida en el planeta. El robot solitario se enamor√≥ de ella y decidi√≥ seguirla, aunque eso lo llev√≥ a una nave donde viv√≠an los humanos. All√≠ descubri√≥ que todos estaban tan c√≥modos con la tecnolog√≠a que hab√≠an olvidado caminar, mirar el cielo y cuidar su planeta. Con esfuerzo y valent√≠a, los robots lograron que los humanos regresaran a la Tierra para reconstruirla. Al final, el robot que estaba solo ya no lo estuvo nunca m√°s. ü§ñü™≥ü•ö"`, author: "Luis" },
            { id: 3, title: "SOUL", summary: "Un m√∫sico descubre que la felicidad est√° en los peque√±os momentos.", body: `"Hab√≠a una vez un m√∫sico que amaba tocar el piano. Cada nota lo hac√≠a feliz y so√±aba con tocar en el escenario m√°s grande. Un d√≠a, algo m√°gico sucedi√≥ y su alma se separ√≥ de su cuerpo. De repente estaba en un lugar extra√±o, lleno de luces y colores, donde todas las almas aprend√≠an a brillar. All√≠ conoci√≥ a un alma curiosa y traviesa. Juntos corr√≠an, saltaban y jugaban mientras aprend√≠an sobre sue√±os, pasiones y lo que hace que la vida valga la pena. El m√∫sico descubri√≥ que no solo los grandes escenarios traen felicidad. Que los peque√±os momentos, las risas y la m√∫sica del d√≠a a d√≠a tambi√©n hacen brillar el coraz√≥n. Al final, regres√≥ a su cuerpo, pero ahora ve√≠a el mundo diferente. Cada nota, cada amigo y cada momento era un tesoro que lo hac√≠a sentirse vivo. Y desde entonces, tocaba su piano con alegr√≠a y ense√±aba que la vida se disfruta en cada instante. üéπ‚ú®‚òÅÔ∏è"`, author: "Luis" },
            { id: 4, title: "TOY STORY", summary: "Un vaquero y un astronauta aprenden a confiar el uno en el otro.", body: `Hab√≠a una vez un ni√±o que ten√≠a muchos juguetes, pero su favorito era un vaquero de sombrero caf√©, botas con espuelas y una cuerda para decir frases divertidas. Era el l√≠der de todos los juguetes y el m√°s querido del cuarto. Viv√≠a feliz, pues cada vez que el ni√±o jugaba, √©l era el protagonista. Pero un d√≠a, en su cumplea√±os, el ni√±o recibi√≥ un regalo especial, un astronauta brillante, con alas, botones y frases sobre viajes espaciales. El vaquero sinti√≥ celos. Tem√≠a que el ni√±o dejara de quererlo. El astronauta, por su parte, ni siquiera sab√≠a que era un juguete, cre√≠a que ven√≠a de una misi√≥n real en el espacio. Los dos empezaron a discutir, competir y molestarse. Pero las cosas se complicaron cuando, por accidente, ambos terminaron lejos de casa, atrapados en el mundo de los humanos‚Ä¶ y de un ni√±o vecino que destru√≠a juguetes por diversi√≥n. En ese viaje de regreso, el vaquero y el astronauta pasaron por muchas aventuras, escapar de trampas, trabajar en equipo y confiar el uno en el otro. Descubrieron que, aunque eran muy diferentes, los dos eran importantes para el ni√±o. Al final, lograron regresar justo a tiempo antes de que la familia se mudara. El vaquero ya no tem√≠a ser reemplazado, y el astronauta acept√≥ que era un juguete, pero uno muy especial. Y desde entonces, en ese cuarto, hubo dos l√≠deres‚Ä¶ y una gran amistad. ü§†üßë‚ÄçüöÄüöÄ`, author: "Luis" },
            { id: 5, title: "CARS", summary: "Un auto de carreras aprende que la amistad es el verdadero premio.", body: `Hab√≠a una vez un auto de carreras rojo, joven, brillante y veloz. So√±aba con convertirse en el m√°s grande de todos los tiempos, en una leyenda que todos recordaran. Ten√≠a talento y velocidad, pero tambi√©n un gran defecto: era arrogante. No escuchaba consejos, no confiaba en nadie y cre√≠a que pod√≠a lograr todo por s√≠ mismo. Su meta era ganar la Copa Pist√≥n, el trofeo m√°s importante del mundo de las carreras. En una de las temporadas m√°s re√±idas, el auto rojo qued√≥ empatado con dos rivales. Uno era un campe√≥n veterano, sabio y respetado, que estaba a punto de retirarse y so√±aba con terminar su carrera con honor. El otro era un competidor rudo, ego√≠sta y tramposo, que solo buscaba la fama y los contratos millonarios. El empate provoc√≥ que se organizara una √∫ltima gran carrera en California para decidir al ganador. El auto rojo estaba impaciente. Quer√≠a llegar cuanto antes y demostrar que √©l ser√≠a el nuevo rey de las pistas. En lugar de viajar con su equipo y descansar, decidi√≥ ir solo, confiado en que nada lo detendr√≠a. Pero el destino ten√≠a otros planes. En medio de la noche, durante el viaje por la vieja Ruta 66, se perdi√≥ y termin√≥ en un peque√±o pueblo olvidado llamado Radiador Springs. All√≠, al entrar de manera imprudente, destroz√≥ la carretera principal. Los habitantes del pueblo, molestos, lo atraparon y lo llevaron ante la justicia local. Como castigo, lo obligaron a reparar la carretera que hab√≠a destruido antes de marcharse. Para √©l, aquello era una p√©rdida de tiempo, una verg√ºenza. Solo quer√≠a escapar y seguir con su meta. Sin embargo, mientras pasaban los d√≠as, empez√≥ a conocer a los habitantes del pueblo. Hab√≠a una gr√∫a oxidada y simp√°tica que lo trataba como si fueran amigos desde el primer momento, aunque √©l no lo entendiera. Hab√≠a una auto elegante que trabajaba como abogada y due√±a del motel, quien lo miraba con desconfianza porque parec√≠a no valorar nada m√°s que su ego. Hab√≠a tambi√©n un viejo doctor que en el pasado hab√≠a sido un gran corredor, aunque ahora viv√≠a en silencio y pocos conoc√≠an su verdadera historia. Al principio, el auto rojo se burlaba de ellos y se negaba a esforzarse, pero poco a poco fue cambiando. Descubri√≥ que aquel lugar, aunque peque√±o, ten√≠a una belleza especial. Pase√≥ por los paisajes al atardecer, escuch√≥ las risas sinceras de la gr√∫a que solo quer√≠a tener un amigo, y comprendi√≥ la tristeza de la auto del motel, que extra√±aba los tiempos en que Radiador Springs estaba lleno de viajeros antes de que las autopistas modernas lo olvidaran. El viejo doctor, que lo vigilaba de cerca, decidi√≥ ense√±arle lo que significaba realmente correr. Le mostr√≥ que no todo se trataba de velocidad, sino de paciencia, estrategia y coraz√≥n. En esas lecciones, el auto rojo descubri√≥ un nuevo sentido en el acto de conducir. Y sin darse cuenta, comenz√≥ a encari√±arse con todos, a sonre√≠r de verdad, a disfrutar de algo m√°s que la gloria. Incluso empez√≥ a sentir un cari√±o especial por aquella auto que al principio lo rechazaba, pero que poco a poco reconoci√≥ su cambio. Cuando por fin termin√≥ la carretera y pudo marcharse, ya no era el mismo que hab√≠a llegado. Hab√≠a encontrado algo que nunca hab√≠a buscado: amistad, amor y un lugar donde realmente importaba como persona, no solo como corredor. Pero aun as√≠ deb√≠a cumplir con la gran carrera final en California, y parti√≥ con un coraz√≥n dividido. En la carrera, todos esperaban que fuera el mismo competidor ego√≠sta de siempre, pero √©l demostr√≥ lo contrario. Corri√≥ con pasi√≥n y estuvo a punto de ganar. Sin embargo, cuando vio que el campe√≥n veterano hab√≠a chocado y no pod√≠a llegar a la meta, tom√≥ una decisi√≥n que sorprendi√≥ al mundo entero. Fren√≥ justo antes de cruzar la l√≠nea, retrocedi√≥ y empuj√≥ al veterano hasta que ambos cruzaron juntos. √âl perdi√≥ la carrera, pero gan√≥ algo mucho m√°s grande. El p√∫blico lo aplaudi√≥, reconociendo que la verdadera grandeza no est√° en ganar trofeos, sino en la nobleza del coraz√≥n. El auto tramposo que se llev√≥ el trofeo fue abucheado, mientras que el auto rojo se convirti√≥ en un verdadero h√©roe. Cuando termin√≥ la temporada, rechaz√≥ contratos millonarios y eligi√≥ volver a Radiador Springs, porque hab√≠a comprendido que all√≠ estaba su verdadero hogar, con sus nuevos amigos, con la auto que lo hab√≠a hecho descubrir el amor, y con la paz que nunca antes hab√≠a sentido. As√≠, aquel auto que al inicio solo quer√≠a fama y trofeos descubri√≥ que el triunfo m√°s grande no est√° en llegar primero, sino en lo que se hace por los dem√°s durante el camino. üöó‚ù§Ô∏èüèÜüé©`, author: "Luis" }
        ];

        document.getElementById('stories-grid').innerHTML = STORIES_DATA.map(story => `
            <div onclick="showStoryModal(${story.id})" class="group cursor-pointer flex flex-col h-full">
                <div class="relative overflow-hidden rounded-2xl bg-gray-200 aspect-[3/4] mb-3 shadow-md group-hover:shadow-xl transition-all duration-500">
                    <div class="absolute inset-0 bg-gradient-to-br from-rose-100 to-purple-100 group-hover:scale-105 transition-transform duration-700"></div>
                    <div class="absolute inset-0 flex flex-col items-center justify-center p-4 text-center">
                        <i data-lucide="book" class="w-8 h-8 text-rose-400 mb-2"></i>
                        <h4 class="font-serif text-lg md:text-xl text-gray-800 leading-tight">${story.title}</h4>
                    </div>
                </div>
                <div class="px-1">
                    <p class="text-[10px] text-rose-500 font-bold tracking-widest uppercase mb-1">Cuento</p>
                    <p class="text-gray-500 text-xs line-clamp-2 leading-relaxed">${story.summary}</p>
                </div>
            </div>
        `).join('');

        function showStoryModal(id) {
            const story = STORIES_DATA.find(s => s.id === id);
            const modal = document.getElementById('story-modal');
            const content = document.getElementById('story-modal-content');
            if(!story) return;

            content.innerHTML = `
                <button onclick="hideStoryModal()" class="absolute top-6 right-6 text-gray-400 hover:text-rose-500 transition-colors z-20"><i data-lucide="x" class="w-6 h-6"></i></button>
                <div class="text-center mb-6">
                     <span class="text-xs font-bold tracking-[0.2em] text-rose-400 uppercase block mb-2">Por ${story.author}</span>
                     <h3 class="font-serif text-4xl text-gray-900">${story.title}</h3>
                </div>
                <div class="overflow-y-auto pr-2 custom-scrollbar flex-grow">
                    <p class="text-lg text-gray-600 leading-loose font-light whitespace-pre-line text-justify">${story.body}</p>
                </div>
            `;
            
            // L√≥gica para mostrar y centrar
            modal.classList.remove('hidden');
            modal.classList.add('flex'); // Asegura que se active el flexbox para centrar
            
            // Peque√±o timeout para permitir que el navegador renderice el display:flex antes de la opacidad
            setTimeout(() => {
                modal.classList.remove('opacity-0');
            }, 10);
            
            lucide.createIcons();
        }

        function hideStoryModal() {
            const modal = document.getElementById('story-modal');
            modal.classList.add('opacity-0');
            
            // Esperar a que termine la transici√≥n de opacidad (300ms) antes de ocultar
            setTimeout(() => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }, 300);
        }

        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = Array.from({length: 60}, () => ({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*3+1, d: Math.random()*Math.PI*2, s: Math.random()*0.5+0.1, c: ['#F7CAD0','#C59FC9','#E5E7EB'][Math.floor(Math.random()*3)]}));
        function animate() { ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.y-=p.s;p.x+=Math.sin(p.d)*0.2;if(p.y<-10)p.y=canvas.height+10;ctx.fillStyle=p.c;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();}); requestAnimationFrame(animate); }
        animate();
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
        lucide.createIcons();
    </script>
</body>
</html>
