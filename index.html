<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nadia & Luis | Nuestra Historia</title>
    <meta name="description" content="Una cronolog√≠a de nuestro amor, cartas y recuerdos.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fuentes: Inter y Playfair Display (para toques elegantes) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        brand: {
                            pink: '#f287a0',
                            purple: '#a78bfa',
                            dark: '#4c1d95'
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Estilos Base y Utilidades */
        body { 
            background-color: #fff0f3; 
            overflow-x: hidden;
        }

        /* Scrollbar personalizada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #fff0f3; }
        ::-webkit-scrollbar-thumb { background: #f472b6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #db2777; }

        /* Efecto Vidrio (Glassmorphism) Mejorado */
        .glass {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }
        
        .glass-dark {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* Gradientes de fondo */
        .bg-romantic {
            background: radial-gradient(circle at top right, #fce7f3, #f3e8ff, #fff0f3);
        }

        /* Clases para Scroll Reveal (Animaci√≥n al bajar) */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Animaci√≥n de Corazones Flotantes */
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }
        .heart-particle {
            position: fixed;
            bottom: -20px;
            animation: floatUp 4s ease-in infinite;
            pointer-events: none;
            z-index: 40;
        }

        /* Ajuste de Modales */
        .modal-enter { animation: modalPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
    </style>
</head>
<body class="text-slate-800 bg-romantic relative pb-24">
    
    <!-- CANVAS FONDO -->
    <canvas id="particleCanvas" class="fixed top-0 left-0 w-full h-full -z-10 opacity-60"></canvas>

    <!-- NAVIGATION DOCK (FLOTANTE) -->
    <nav class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 glass px-2 py-2 rounded-full shadow-2xl flex gap-1 sm:gap-2 items-center border border-white/60 scale-90 sm:scale-100 transition-transform origin-bottom">
        <button onclick="scrollToSection('hero')" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group">
            <i data-lucide="home" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Inicio</span>
        </button>
        <button onclick="scrollToSection('rdm')" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group">
            <i data-lucide="image" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Recuerdos</span>
        </button>
        <button onclick="scrollToSection('poemas')" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group">
            <i data-lucide="feather" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Poemas</span>
        </button>
        <button onclick="addHeart()" class="p-4 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg transform hover:-translate-y-2 hover:scale-110 transition-all mx-1">
            <i data-lucide="heart" class="w-6 h-6 fill-current animate-pulse"></i>
        </button>
        <button onclick="scrollToSection('open-when')" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group">
            <i data-lucide="mail" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Cartas</span>
        </button>
        <button onclick="scrollToSection('stories')" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group">
            <i data-lucide="book-open" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Cuentos</span>
        </button>
        <button onclick="toggleMusic()" class="p-3 rounded-full hover:bg-white hover:text-pink-500 transition-all text-gray-600 relative group" id="music-btn">
            <i data-lucide="music" class="w-5 h-5"></i>
            <span class="absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">Playlist</span>
        </button>
    </nav>

    <!-- WIDGET DE M√öSICA FLOTANTE (Oculto por defecto) -->
    <div id="music-widget" class="fixed bottom-24 right-4 sm:right-10 z-40 w-80 glass rounded-3xl shadow-2xl p-2 transform translate-y-[150%] transition-transform duration-500 hidden">
        <div class="flex justify-between items-center px-4 py-2">
            <span class="text-xs font-bold text-gray-500 uppercase tracking-widest">Nuestra M√∫sica</span>
            <button onclick="toggleMusic()" class="text-gray-400 hover:text-red-500"><i data-lucide="x" class="w-4 h-4"></i></button>
        </div>
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/2TRy6O7KcV1kNLAvXqiAVq?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    </div>

    <!-- CONTENEDOR DE CORAZONES DIN√ÅMICOS -->
    <div id="hearts-container"></div>

    <!-- 1. HERO SECTION -->
    <section id="hero" class="min-h-screen flex flex-col items-center justify-center relative px-6 text-center pt-10">
        
        <div class="space-y-6 max-w-4xl mx-auto z-10">
            <div class="inline-block animate-float">
                <span class="px-4 py-1 rounded-full border border-purple-300 bg-purple-50/50 text-purple-600 text-xs font-bold uppercase tracking-[0.2em] backdrop-blur-sm">
                    Nuestra Historia
                </span>
            </div>
            
            <h1 class="text-6xl sm:text-7xl md:text-9xl font-serif font-black bg-clip-text text-transparent bg-gradient-to-br from-purple-600 via-pink-500 to-red-400 drop-shadow-sm leading-tight pb-2">
                Nadia & Luis
            </h1>
            
            <p class="text-lg md:text-2xl text-gray-600 max-w-2xl mx-auto font-light leading-relaxed">
                "El arte no est√° en los museos,<br>est√° en cada segundo que respiro junto a ti."
            </p>

            <!-- LIVE TIMER -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mt-8 max-w-2xl mx-auto reveal">
                <div class="glass p-4 rounded-2xl">
                    <span id="hero-days" class="block text-3xl md:text-4xl font-black text-purple-600 tabular-nums">0</span>
                    <span class="text-xs text-gray-500 uppercase font-bold tracking-wider">D√≠as</span>
                </div>
                <div class="glass p-4 rounded-2xl">
                    <span id="hero-hours" class="block text-3xl md:text-4xl font-black text-pink-600 tabular-nums">0</span>
                    <span class="text-xs text-gray-500 uppercase font-bold tracking-wider">Horas</span>
                </div>
                <div class="glass p-4 rounded-2xl">
                    <span id="hero-minutes" class="block text-3xl md:text-4xl font-black text-purple-600 tabular-nums">0</span>
                    <span class="text-xs text-gray-500 uppercase font-bold tracking-wider">Minutos</span>
                </div>
                <div class="glass p-4 rounded-2xl">
                    <span id="hero-seconds" class="block text-3xl md:text-4xl font-black text-pink-600 tabular-nums">0</span>
                    <span class="text-xs text-gray-500 uppercase font-bold tracking-wider">Segundos</span>
                </div>
            </div>

            <div class="pt-10 reveal">
                <button onclick="scrollToSection('rdm')" class="group relative inline-flex items-center justify-center px-8 py-4 font-bold text-white transition-all duration-200 bg-gray-900 font-lg rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 hover:bg-gray-800 shadow-xl hover:shadow-2xl hover:-translate-y-1">
                    <span>Comenzar el Viaje</span>
                    <i data-lucide="arrow-down" class="w-4 h-4 ml-2 group-hover:translate-y-1 transition-transform"></i>
                    <div class="absolute inset-0 rounded-full ring-2 ring-white/20 group-hover:ring-white/40"></div>
                </button>
            </div>
        </div>
    </section>

    <!-- 2. RECUERDOS DEL MES (RDM) -->
    <section id="rdm" class="py-20 px-4 md:px-8 max-w-7xl mx-auto">
        <div class="text-center mb-16 reveal">
            <span class="text-pink-500 font-bold tracking-widest uppercase text-sm">Nuestros Momentos</span>
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-gray-900 mt-2">Recuerdos del Mes</h2>
        </div>
        
        <div id="rdm-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- JS Injection -->
        </div>
    </section>

    <!-- 3. POEMAS -->
    <section id="poemas" class="py-20 px-4 bg-white/40 backdrop-blur-sm border-y border-white/50">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16 reveal">
                <div class="inline-flex p-3 bg-pink-100 rounded-full mb-4 text-pink-500">
                    <i data-lucide="feather" class="w-6 h-6"></i>
                </div>
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-gray-800">Antolog√≠a del Coraz√≥n</h2>
                <p class="text-gray-600 mt-3">Versos que nacieron pens√°ndote.</p>
            </div>
            
            <div id="poems-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- JS Injection -->
            </div>
        </div>
    </section>

    <!-- 4. ABRIR CUANDO... -->
    <section id="open-when" class="py-20 px-4 max-w-7xl mx-auto">
        <div class="text-center mb-16 reveal">
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-4">Abrir Cuando...</h2>
            <p class="text-lg text-gray-600 max-w-xl mx-auto">Peque√±as dosis de amor para cada estado de √°nimo. Toca una carta para leer el mensaje.</p>
        </div>

        <div id="open-when-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            <!-- JS Injection -->
        </div>
    </section>

    <!-- 5. CUENTOS -->
    <section id="stories" class="py-20 px-4 bg-slate-900 text-white relative overflow-hidden rounded-[3rem] mx-2 md:mx-8 shadow-2xl my-10">
        <!-- Fondo decorativo -->
        <div class="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"></div>
        
        <div class="max-w-6xl mx-auto relative z-10">
            <div class="text-center mb-16 reveal">
                <span class="text-purple-300 font-bold tracking-widest uppercase text-sm">Biblioteca de Sue√±os</span>
                <h2 class="text-4xl md:text-5xl font-serif font-bold mt-2">Nuestros Cuentos</h2>
            </div>
            
            <div id="stories-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- JS Injection -->
            </div>
        </div>
    </section>

    <!-- 6. RAZONES -->
    <section id="reasons" class="py-20 px-4 max-w-5xl mx-auto">
        <div class="text-center mb-16 reveal">
            <i data-lucide="heart" class="w-12 h-12 text-red-500 fill-current mx-auto mb-4 animate-pulse-slow"></i>
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-gray-900">¬øPor qu√© te amo?</h2>
        </div>
        
        <div id="reasons-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- JS Injection -->
        </div>
    </section>

    <!-- 7. ESTAD√çSTICAS (Supreme Counter) -->
    <section id="supreme-counter" class="py-20 px-4 bg-white/50 backdrop-blur-md border-t border-white/60">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-6xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600 font-serif">
                    Nuestro Universo en N√∫meros
                </h2>
                <p class="text-gray-600 mt-4">Porque cada segundo cuenta.</p>
            </div>
            
            <div id="stats-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-8 reveal">
                <!-- JS Injection -->
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-12 text-center text-gray-500 text-sm">
        <p class="font-serif italic text-lg mb-2">Para Nadia, mi musa eterna.</p>
        <p>¬© 2025 Hecho con todo el amor del mundo por Luis.</p>
    </footer>

    <!-- MODALES -->
    <!-- Modal Open When -->
    <div id="open-when-modal" class="fixed inset-0 z-[60] hidden items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm transition-opacity duration-300" aria-modal="true">
        <div class="glass-dark rounded-3xl p-8 max-w-lg w-full relative modal-enter shadow-2xl border-t-8 border-pink-400">
            <button onclick="hideOpenWhenModal()" class="absolute top-4 right-4 p-2 bg-gray-100 rounded-full hover:bg-red-100 hover:text-red-500 transition-colors">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
            <div id="modal-content" class="text-center">
                <!-- Contenido din√°mico -->
            </div>
        </div>
    </div>

    <!-- Modal Story -->
    <div id="story-modal" class="fixed inset-0 z-[60] hidden items-center justify-center p-4 bg-gray-900/80 backdrop-blur-md transition-opacity duration-300" aria-modal="true">
        <div class="bg-white rounded-3xl w-full max-w-4xl max-h-[85vh] flex flex-col relative modal-enter shadow-2xl overflow-hidden">
            <!-- Header Sticky -->
            <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-white z-10">
                <h3 id="story-modal-title" class="text-xl md:text-2xl font-serif font-bold text-gray-800 truncate pr-4">T√≠tulo</h3>
                <button onclick="hideStoryModal()" class="p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors flex-shrink-0">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            
            <!-- Contenido Scrollable -->
            <div class="overflow-y-auto p-6 md:p-10 bg-slate-50 flex-grow">
                <div id="story-modal-content" class="prose prose-lg max-w-none text-gray-700 font-serif leading-loose whitespace-pre-wrap">
                    <!-- Contenido din√°mico -->
                </div>
                <div class="mt-10 pt-10 border-t border-gray-200 text-center">
                    <p class="text-sm text-gray-400 uppercase tracking-widest">Fin de la historia</p>
                    <button onclick="hideStoryModal()" class="mt-4 px-6 py-2 bg-purple-100 text-purple-700 rounded-full font-bold hover:bg-purple-200 transition-colors">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS L√ìGICOS -->
    <script>
        // CONFIGURACI√ìN GLOBAL
        const START_DATE = new Date('2025-05-11T23:23:00').getTime();

        // --- DATA ---
        const RDM_DATA = [
            { date: "Octubre 2025", title: "Carrera de Disfraces", icon: "trophy", image: "https://i.imgur.com/NADoali.png", story: "Octubre fue un mes incre√≠ble (¬°y el cumplea√±os de la cumplea√±era!), pero el recuerdo de la carrera se lleva el premio. El simple hecho de vestirnos con nuestros disfraces y cruzar la meta juntos fue una prueba de lo mucho que podemos divertirnos sin importar el plan." },
            { date: "Septiembre 2025", title: "Sushi Sorpresa", icon: "utensils-crossed", image: "https://i.imgur.com/8KdnXcO.png", story: "Despu√©s de varias semanas, por fin te di la sorpresa de llevarte a comer el sushi que tanto quer√≠as. Verte emocionada al entrar al restaurante ya era el mejor regalo para m√≠. La cena estuvo deliciosa y el ambiente muy bonito." },
            { date: "Agosto 2025", title: "Aventura en Huasca", icon: "globe", image: "https://i.imgur.com/6oUe2OE.png", story: "Este fue, sin duda, el mejor mes de todos. Te llev√© de sorpresa a Huasca de Ocampo. Pasamos dos d√≠as sin dinero, nos mojamos y pasamos fr√≠o, pero logramos comer y hospedarnos. Terminamos pobres, pero no me arrepiento de nada." },
            { date: "Julio 2025", title: "Nuestro Primer Mes", icon: "star", image: "https://i.imgur.com/meMSF3e.png", story: "¬°Nuestro primer mes! ü•≥ Lo celebramos con una cena especial en 'Los Tacos de Peri'. Me acuerdo perfecto de esa noche, no solo por los tacos, sino porque grabamos un video diciendo c√≥mo nos sent√≠amos." },
            { date: "Junio 2025", title: "Maruchan & Cars", icon: "film", image: "https://i.imgur.com/2JLEukH.png", story: "La primera vez que vimos 'Cars' juntos en tu casa. El plan era simple: nos preparamos unas Maruchan y nos acurrucamos a ver la pel√≠cula. Un plan sencillo, pero perfecto." }
        ];

        const POEMS_DATA = [
            { title: "El Ritmo que Cede", body: "Tus ojitos caf√©s, no los dejo de ver.\nme miran y el mundo empieza a ceder.\nNo entiendo este ritmo, ni quiero entender,\nsolo s√© que contigo, todo puede ser.\n\nNo hubo se√±ales, ni explicaci√≥n,\nsolo ese momento y la conexi√≥n.\nLlegaste a mi vida, sin darme opci√≥n,\ny en menos de nada, todo cambi√≥.", author: "Luis" },
            { title: "La Conexi√≥n", body: "Ese primer beso me hizo temblar,\ntu abrazo travieso me hizo volar.\nTan corto el momento, tan claro el deseo,\ndesde ese segundo supe que te quiero.", author: "Tu Poeta" },
             { title: "Contigo", body: "El tiempo va r√°pido, sin descansar,\npero entre tus brazos se deja llevar.\nY aunque fue tan r√°pido lo que empez√≥,\ncada d√≠a contigo‚Ä¶ se siente mejor.", author: "Luis" }
        ];

        const OPEN_WHEN_DATA = [
            { id: 'extra√±as', title: "Me extra√±as", icon: "heart", color: "text-red-500", content: "Lo s√©, la vida a veces aprieta. Perm√≠tete sentir lo que necesites, pero no te quedes ah√≠. Recuerda lo incre√≠ble y fuerte que eres. Estoy contigo, aunque no estemos cerca f√≠sicamente." },
            { id: 'triste', title: "Est√°s triste", icon: "frown", color: "text-purple-500", content: "Hey, no me gusta nada que est√©s as√≠. Es completamente v√°lido sentirse mal, pero no est√°s sola. Recuerda que despu√©s de la lluvia siempre sale el sol. Te mando el abrazo m√°s fuerte del mundo." },
            { id: 'querer', title: "Necesitas amor", icon: "star", color: "text-pink-500", content: "Uy, si tienes que abrir esto es que no lo estoy diciendo suficiente. Que no se te olvide NUNCA. Eres mi persona favorita por much√≠simas razones: tu risa, tu inteligencia, tu bondad... Te quiero infinitamente." },
            { id: 'reir', title: "Necesitas re√≠r", icon: "laugh", color: "text-purple-600", content: "Imagina un ping√ºino resbal√°ndose en el hielo. üêßüí® ¬°Espero haberte sacado una sonrisa! A veces la vida es absurda, ri√°monos de ella." },
            { id: 'mal-dia', title: "Mal d√≠a", icon: "cloud-rain", color: "text-gray-500", content: "Lamento que tu d√≠a haya sido pesado. Ojal√° pudiera estar ah√≠ para darte un abrazo gigante. Tienes un VALE POR UN MASAJE Y TU COMIDA FAVORITA. Canjeable ya." },
            { id: 'motivacion', title: "Motivaci√≥n", icon: "zap", color: "text-yellow-500", content: "T√∫ puedes con eso y con m√°s. En serio, eres la persona m√°s fuerte y capaz que conozco. Mira todo lo que has logrado hasta ahora. ¬°El mundo es tuyo, Nadia!" },
             { id: 'ansiosa', title: "Ansiosa", icon: "wind", color: "text-blue-400", content: "Respira. Inhala... 1, 2, 3, 4. Mant√©n... 1, 2, 3, 4. Exhala... 1, 2, 3, 4. Todo va a estar bien. Est√°s a salvo y yo estoy contigo." }
        ];

        const STORIES_DATA = [
            { id: 1, title: "NEMO", summary: "Un padre cruza el oc√©ano por amor.", body: "Hab√≠a una vez un pez chiquito. Su pap√° pez le dijo que no nadara lejos, pero no hizo caso... (Historia completa en modal)", author: "Luis" },
            { id: 2, title: "CORALINE", summary: "Valent√≠a en un mundo de botones.", body: "Una ni√±a se mud√≥ con su familia a una casa vieja. Encontr√≥ una puertita peque√±a... (Historia completa en modal)", author: "Luis" },
            { id: 3, title: "WALL-E", summary: "Amor entre robots y estrellas.", body: "Hab√≠a un peque√±o robot que se qued√≥ solo en la Tierra limpiando basura... (Historia completa en modal)", author: "Luis" },
            { id: 4, title: "UP", summary: "Una aventura en las alturas.", body: "Un anciano gru√±√≥n y un ni√±o explorador viajan en una casa flotante... (Historia completa en modal)", author: "Luis" },
             { id: 5, title: "SHREK", summary: "El amor verdadero no es perfecto.", body: "Un ogro y un burro rescatan a una princesa que guarda un secreto... (Historia completa en modal)", author: "Luis" }
        ];
        
        // REASONS DATA (Abreviado para el ejemplo, usar el completo en producci√≥n)
        const REASONS_DATA = [
            { title: "La Paz Que Me Das", desc: "Amo la calma y serenidad que me transmites. Contigo, los problemas parecen m√°s peque√±os." },
            { title: "Tu Luz Contagiosa", desc: "Amo tu sonrisa, esa que ilumina cualquier d√≠a gris, y tu risa contagiosa." },
            { title: "Tu Mente Brillante", desc: "Amo tu inteligencia y curiosidad. Me encanta c√≥mo siempre aprendes cosas nuevas." },
             { title: "Simplemente T√∫", desc: "Te amo por ser t√∫. Por tu autenticidad, por tu pasi√≥n, por tu forma √∫nica de ver el mundo.", fullWidth: true }
        ];

        // --- FUNCIONES UI ---

        function scrollToSection(id) {
            const el = document.getElementById(id);
            if(el) {
                const navHeight = 80;
                const elementPosition = el.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - navHeight;
                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
        }

        function toggleMusic() {
            const widget = document.getElementById('music-widget');
            const btn = document.getElementById('music-btn');
            widget.classList.toggle('hidden');
            setTimeout(() => {
                widget.classList.toggle('translate-y-[150%]');
            }, 10);
            btn.classList.toggle('text-pink-500');
        }

        function addHeart() {
            const container = document.getElementById('hearts-container');
            const heart = document.createElement('div');
            heart.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#ec4899" stroke="#ec4899" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`;
            heart.className = 'heart-particle';
            heart.style.left = Math.random() * 100 + 'vw';
            // Variaci√≥n de tama√±o
            const scale = Math.random() * 1 + 0.5;
            heart.style.transform = `scale(${scale})`;
            container.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }

        // --- RENDERIZADO ---

        function renderContent() {
            // RDM
            document.getElementById('rdm-grid').innerHTML = RDM_DATA.map(item => `
                <div class="glass p-5 rounded-3xl group hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 reveal">
                    <div class="relative h-48 mb-4 overflow-hidden rounded-2xl bg-gray-100">
                        <span class="absolute top-2 right-2 bg-white/90 px-3 py-1 rounded-full text-xs font-bold text-pink-500 z-10 shadow-sm">${item.date}</span>
                        <img src="${item.image}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" loading="lazy" alt="${item.title}" onerror="this.src='https://placehold.co/600x400/pink/white?text=Amor'">
                    </div>
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="${item.icon}" class="w-5 h-5 text-purple-500"></i>
                        <h3 class="text-xl font-bold text-gray-800">${item.title}</h3>
                    </div>
                    <p class="text-gray-600 text-sm leading-relaxed">${item.story}</p>
                </div>
            `).join('');

            // POEMS
            document.getElementById('poems-grid').innerHTML = POEMS_DATA.map(poem => `
                <div class="glass p-8 rounded-2xl hover:bg-white transition-colors duration-300 reveal border-l-4 border-pink-300">
                    <h3 class="text-2xl font-serif font-bold text-gray-800 mb-4 text-center">${poem.title}</h3>
                    <p class="whitespace-pre-wrap text-gray-700 text-center italic leading-loose font-serif">${poem.body}</p>
                    <p class="text-right text-xs text-pink-400 mt-4 font-bold uppercase">‚Äî ${poem.author}</p>
                </div>
            `).join('');

            // OPEN WHEN
            document.getElementById('open-when-grid').innerHTML = OPEN_WHEN_DATA.map(card => `
                <button onclick="openLetter('${card.id}')" class="glass p-4 rounded-2xl hover:bg-white hover:scale-105 transition-all duration-300 flex flex-col items-center gap-3 reveal group h-full justify-center">
                    <div class="p-3 bg-white rounded-full shadow-sm group-hover:shadow-md transition-shadow">
                        <i data-lucide="${card.icon}" class="w-6 h-6 ${card.color}"></i>
                    </div>
                    <span class="text-sm font-bold text-gray-700 text-center leading-tight">Si ${card.title}</span>
                </button>
            `).join('');

            // STORIES
            document.getElementById('stories-grid').innerHTML = STORIES_DATA.map(story => `
                <div onclick="openStory(${story.id})" class="bg-slate-800 p-6 rounded-2xl cursor-pointer hover:bg-slate-700 transition-colors reveal border border-slate-700 group">
                    <div class="flex items-start justify-between mb-4">
                        <div class="p-2 bg-slate-900 rounded-lg group-hover:text-pink-400 transition-colors">
                            <i data-lucide="book" class="w-6 h-6"></i>
                        </div>
                        <span class="text-xs text-slate-500 font-mono">ID: ${story.id}</span>
                    </div>
                    <h4 class="text-xl font-bold text-white mb-2 font-serif">${story.title}</h4>
                    <p class="text-slate-400 text-sm mb-4 line-clamp-2">${story.summary}</p>
                    <span class="text-xs text-pink-400 font-bold uppercase tracking-wider group-hover:underline">Leer ahora &rarr;</span>
                </div>
            `).join('');

            // REASONS
            document.getElementById('reasons-grid').innerHTML = REASONS_DATA.map((item, idx) => `
                <div class="glass p-6 rounded-2xl flex gap-4 items-start hover:bg-white transition-colors reveal ${item.fullWidth ? 'md:col-span-2' : ''}">
                    <span class="flex-shrink-0 w-8 h-8 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center font-bold text-sm border border-pink-200">${idx + 1}</span>
                    <div>
                        <h3 class="font-bold text-gray-800 text-lg mb-1">${item.title}</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">${item.desc}</p>
                    </div>
                </div>
            `).join('');

            lucide.createIcons();
        }

        // --- MODAL LOGIC ---
        function openLetter(id) {
            const card = OPEN_WHEN_DATA.find(c => c.id === id);
            if(!card) return;
            document.getElementById('modal-content').innerHTML = `
                <div class="w-16 h-16 bg-pink-50 rounded-full flex items-center justify-center mx-auto mb-4 text-pink-500">
                    <i data-lucide="${card.icon}" class="w-8 h-8 ${card.color}"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-4">Si ${card.title}...</h3>
                <p class="text-gray-600 text-lg leading-relaxed mb-8 font-serif italic">"${card.content}"</p>
                <button onclick="hideOpenWhenModal()" class="px-8 py-2 bg-gray-900 text-white rounded-full hover:bg-black transition-colors">Recibido ‚ù§Ô∏è</button>
            `;
            const modal = document.getElementById('open-when-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            lucide.createIcons();
        }

        function hideOpenWhenModal() {
            document.getElementById('open-when-modal').classList.add('hidden');
            document.getElementById('open-when-modal').classList.remove('flex');
        }

        function openStory(id) {
            const story = STORIES_DATA.find(s => s.id === id);
            if(!story) return;
            document.getElementById('story-modal-title').textContent = story.title;
            document.getElementById('story-modal-content').textContent = story.body; // En real app usar HTML si el body tiene formato
            const modal = document.getElementById('story-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        function hideStoryModal() {
            document.getElementById('story-modal').classList.add('hidden');
            document.getElementById('story-modal').classList.remove('flex');
        }

        // --- CONTADORES ---
        function updateTimers() {
            const now = new Date().getTime();
            const diff = now - START_DATE;
            
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            // Hero Live Timer
            document.getElementById('hero-days').innerText = days;
            document.getElementById('hero-hours').innerText = (hours % 24);
            document.getElementById('hero-minutes').innerText = (minutes % 60);
            document.getElementById('hero-seconds').innerText = (seconds % 60);

            // Stats Section (Solo si es visible para rendimiento)
            const statsContainer = document.getElementById('supreme-counter');
            if (statsContainer.getBoundingClientRect().top < window.innerHeight) {
                 // C√°lculos aproximados divertidos
                 const renderStat = (id, val) => {
                     const el = document.getElementById(id);
                     if(el) el.innerText = parseFloat(val).toLocaleString('es-MX');
                 };
                 
                 // Renderizar solo si los elementos existen (inyectados din√°micamente)
                 if(document.getElementById('stat-beats')) {
                     renderStat('stat-beats', minutes * 75); // 75 bpm
                     renderStat('stat-breaths', minutes * 16); // 16 respiraciones/min
                     renderStat('stat-km', seconds * 220); // Sistema solar viajando a 220km/s
                 }
            }
        }

        function initStats() {
            const html = `
                <div class="glass p-8 rounded-3xl">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><i data-lucide="heart-pulse" class="text-red-500"></i> Biolog√≠a del Amor</h3>
                    <div class="space-y-4">
                        <div>
                            <span id="stat-beats" class="text-4xl font-black text-red-500 font-mono">0</span>
                            <p class="text-xs uppercase text-gray-500 font-bold">Latidos de coraz√≥n (juntos)</p>
                        </div>
                        <div>
                            <span id="stat-breaths" class="text-4xl font-black text-blue-500 font-mono">0</span>
                            <p class="text-xs uppercase text-gray-500 font-bold">Suspiros y Respiraciones</p>
                        </div>
                    </div>
                </div>
                <div class="glass p-8 rounded-3xl">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><i data-lucide="rocket" class="text-purple-500"></i> Viaje C√≥smico</h3>
                    <div class="space-y-4">
                        <div>
                            <span id="stat-km" class="text-4xl font-black text-purple-600 font-mono">0</span>
                            <p class="text-xs uppercase text-gray-500 font-bold">Kil√≥metros viajados por la galaxia</p>
                            <p class="text-xs text-gray-400 mt-1">Mientras estamos juntos, la Tierra se mueve.</p>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('stats-grid').innerHTML = html;
        }

        // --- SCROLL REVEAL OBSERVER ---
        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // --- PARTICLE CANVAS ---
        function initParticles() {
            const canvas = document.getElementById('particleCanvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            
            const resize = () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            };
            window.addEventListener('resize', resize);
            resize();

            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 3;
                    this.speedX = Math.random() * 1 - 0.5;
                    this.speedY = Math.random() * 1 - 0.5;
                    this.color = `rgba(244, 114, 182, ${Math.random() * 0.5})`;
                }
                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;
                    if(this.size > 0.2) this.size -= 0.01;
                    if(this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                    if(this.y < 0 || this.y > canvas.height) this.speedY *= -1;
                }
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                if(particles.length < 50) particles.push(new Particle());
                particles.forEach((p, index) => {
                    p.update();
                    p.draw();
                    if (p.size <= 0.2) particles.splice(index, 1);
                });
                requestAnimationFrame(animate);
            }
            animate();
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderContent();
            initStats();
            initParticles();
            initScrollReveal();
            setInterval(updateTimers, 1000);
            updateTimers();
        });

    </script>
</body>
</html>
