<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nadia & Luis | Mi Arte Eres T√∫</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuentes: Inter (Limpia) y Dancing Script (Manuscrita para toques rom√°nticos) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Estilos personalizados */
        :root {
            --color-pink: 242 135 160;
            --color-purple: 167 139 250;
        }
        body { font-family: 'Inter', sans-serif; background-color: #fff8f8; }
        .font-handwriting { font-family: 'Dancing Script', cursive; }

        /* Animaciones */
        @keyframes float-up {
          0% { transform: translateY(0) scale(1); opacity: 1; }
          100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }
        @keyframes beat {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
        @keyframes float-element {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
          100% { transform: translateY(0px); }
        }
        @keyframes pop-in {
          0% { opacity: 0; transform: scale(0.9); }
          100% { transform: scale(1); opacity: 1; }
        }
        
        .animate-float-up { animation: float-up 4s ease-out forwards; }
        .animate-beat-strong { animation: beat 1s infinite; }
        .animate-float { animation: float-element 3s ease-in-out infinite; }
        .animate-pop-in { animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        /* Glassmorphism */
        .glass {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }
        .section-bg {
             background: radial-gradient(ellipse at top, #fef2f4 0%, #f7e0fc 100%);
        }
        .canvas-bg {
            background: linear-gradient(135deg, #fff0f5, #f3e8ff, #e6e6fa); 
        }

        /* Barra de Progreso */
        #scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(to right, #ec4899, #a855f7);
            z-index: 100;
            width: 0%;
            transition: width 0.1s;
        }

        /* Bot√≥n Volver Arriba */
        #backToTopBtn {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            transform: translateY(20px);
        }
        #backToTopBtn.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* Estilos del Carrusel */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Estilo Tarjeta de Carrusel (M√°s limpio que el polaroid anterior) */
        .carousel-card {
            background: white;
            padding: 1rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        .carousel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Scrollbars para modals */
        #open-when-modal { padding: 1rem; }
        #modal-content { margin: auto; }
    </style>
</head>
<body class="text-gray-800 selection:bg-pink-300 overflow-x-hidden section-bg">
    
    <!-- Barra de Progreso de Lectura -->
    <div id="scroll-progress"></div>

    <!-- CANVAS DE PART√çCULAS -->
    <canvas id="particleCanvas" class="fixed top-0 left-0 w-full h-full -z-10 canvas-bg" aria-hidden="true"></canvas>

    <!-- Corazones Flotantes (Bot√≥n Derecha) -->
    <div id="hearts-container" class="fixed inset-0 pointer-events-none z-50">
        <button id="addHeartButton" onclick="addHeart()" class="fixed bottom-6 right-6 glass p-4 rounded-full shadow-2xl border border-pink-200 hover:scale-110 transition-transform cursor-pointer z-50 group hover:bg-white/90 pointer-events-auto active:scale-95" aria-label="A√±adir coraz√≥n flotante a la pantalla">
            <i data-lucide="heart" class="w-8 h-8 text-pink-500 group-hover:animate-pulse drop-shadow-md fill-current"></i>
        </button>
    </div>

    <!-- Bot√≥n Volver Arriba (Izquierda) -->
    <button id="backToTopBtn" onclick="scrollToTop()" class="fixed bottom-6 left-6 glass p-4 rounded-full shadow-2xl border border-purple-200 hover:scale-110 hover:bg-white/90 transition-all cursor-pointer z-50 group pointer-events-auto active:scale-95 text-purple-600" aria-label="Volver al inicio de la p√°gina">
        <i data-lucide="arrow-up" class="w-8 h-8"></i>
    </button>

    <!-- 1. HERO SECTION -->
    <section id="hero" class="min-h-screen flex flex-col items-center justify-center relative px-4 text-center overflow-hidden" role="main">
        <div class="space-y-6 relative z-10">
            <h2 class="text-xl md:text-2xl tracking-[0.4em] uppercase text-purple-600 font-bold drop-shadow-sm animate-pop-in" style="animation-delay: 0.2s;">Bienvenidos a</h2>
            
            <h1 class="text-6xl md:text-8xl lg:text-9xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 drop-shadow-sm tracking-tight animate-pop-in" style="animation-delay: 0.4s;">
                Nadia & Luis
            </h1>
            
            <p class="text-lg md:text-2xl text-gray-700 max-w-2xl mx-auto font-handwriting glass p-6 rounded-xl shadow-sm border border-white/50 animate-pop-in" style="animation-delay: 0.6s;">
                "El arte no est√° en los museos, est√° en cada segundo que respiro a tu lado."
            </p>
            
            <!-- Contador Live Hero -->
            <div class="animate-pop-in mt-8" style="animation-delay: 0.8s;">
                <div class="inline-flex flex-wrap justify-center gap-4 md:gap-8 bg-white/40 backdrop-blur-md px-6 py-4 rounded-2xl shadow-sm border border-white/60">
                    <div class="text-center">
                        <span id="hero-days" class="block text-2xl md:text-4xl font-black text-purple-600">0</span>
                        <span class="text-xs uppercase tracking-widest text-gray-500">D√≠as</span>
                    </div>
                    <div class="text-center">
                        <span id="hero-hours" class="block text-2xl md:text-4xl font-black text-pink-500">0</span>
                        <span class="text-xs uppercase tracking-widest text-gray-500">Hrs</span>
                    </div>
                    <div class="text-center">
                        <span id="hero-minutes" class="block text-2xl md:text-4xl font-black text-purple-600">0</span>
                        <span class="text-xs uppercase tracking-widest text-gray-500">Min</span>
                    </div>
                    <div class="text-center">
                        <span id="hero-seconds" class="block text-2xl md:text-4xl font-black text-pink-500 w-12">0</span>
                        <span class="text-xs uppercase tracking-widest text-gray-500">Seg</span>
                    </div>
                </div>
            </div>

            <div class="pt-10 animate-pop-in" style="animation-delay: 1s;">
                <button 
                    onclick="scrollToSection('rdm')"
                    class="group relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium rounded-full bg-gradient-to-br from-purple-400 to-pink-400 focus:ring-4 focus:outline-none focus:ring-purple-200 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300"
                    aria-label="Explorar la secci√≥n Recuerdos del Mes"
                >
                    <span class="relative px-8 py-3 transition-all ease-in duration-75 glass text-gray-800 rounded-full group-hover:bg-opacity-0 group-hover:text-white flex items-center gap-2 font-bold">
                        <i data-lucide="arrow-down-circle" class="w-5 h-5"></i>
                        <span>Nuestra Historia</span>
                    </span>
                </button>
            </div>
        </div>
    </section>

    <!-- 2. RDM CARRUSEL (NUEVO DISE√ëO) -->
    <section id="rdm" class="py-20 px-0 md:px-4 max-w-full mx-auto overflow-hidden">
        <div class="text-center mb-10 px-4">
            <span class="bg-gradient-to-r from-purple-200 to-pink-200 text-purple-900 px-6 py-2 rounded-full text-xs font-bold tracking-widest uppercase shadow-sm">Timeline</span>
            <h2 class="text-4xl md:text-6xl font-black text-gray-800 mt-6 drop-shadow-sm tracking-tight">Momentos Inolvidables</h2>
        </div>
        
        <!-- Contenedor del Carrusel con Controles -->
        <div class="relative w-full max-w-[1400px] mx-auto group">
            
            <!-- Bot√≥n Izquierda -->
            <button onclick="scrollCarousel(-1)" class="hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/80 backdrop-blur-sm rounded-full shadow-lg items-center justify-center hover:bg-white hover:scale-110 transition-all text-purple-600 border border-purple-100">
                <i data-lucide="chevron-left" class="w-8 h-8"></i>
            </button>

            <!-- Carrusel Scrollable -->
            <div id="rdm-grid" class="flex overflow-x-auto gap-6 md:gap-8 px-8 md:px-12 py-8 snap-x snap-mandatory scrollbar-hide pb-12">
                <!-- RDM Cards insertadas por JS -->
            </div>

            <!-- Bot√≥n Derecha -->
            <button onclick="scrollCarousel(1)" class="hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/80 backdrop-blur-sm rounded-full shadow-lg items-center justify-center hover:bg-white hover:scale-110 transition-all text-purple-600 border border-purple-100">
                <i data-lucide="chevron-right" class="w-8 h-8"></i>
            </button>
        </div>
        
        <!-- Indicador visual para m√≥vil -->
        <p class="text-center text-gray-400 text-sm md:hidden animate-pulse">Desliza para ver m√°s <i data-lucide="arrow-right" class="w-4 h-4 inline align-middle"></i></p>
    </section>

    <!-- 3. ANTOLOG√çA (POEMAS) -->
    <section id="poemas" class="py-20 px-4 section-bg-dark backdrop-blur-sm">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16">
                <div class="inline-block p-4 glass rounded-full shadow-sm mb-4">
                    <i data-lucide="feather" class="w-8 h-8 text-pink-500"></i>
                </div>
                <h2 class="text-4xl md:text-5xl font-black text-gray-800 drop-shadow-sm tracking-tight">Versos para Ti</h2>
                <p class="text-gray-600 mt-3 font-handwriting text-2xl">Palabras que nacen del coraz√≥n...</p>
            </div>
            <div id="poems-grid" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Poemas insertados por JS -->
            </div>
        </div>
    </section>

    <!-- 4. ABRIR SI... -->
    <section id="open-when" class="py-20 px-4 max-w-6xl mx-auto">
        <div class="text-center mb-16">
            <div class="inline-block p-4 glass rounded-full shadow-sm mb-4 animate-float">
                <i data-lucide="mail-heart" class="w-8 h-8 text-purple-500"></i>
            </div>
            <h2 class="text-4xl md:text-5xl font-black text-gray-800 drop-shadow-sm tracking-tight">Abrir Cuando...</h2>
            <p class="text-gray-600 mt-2 font-medium">Cartas de emergencia para el alma.</p>
        </div>
        
        <div id="open-when-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-6">
            <!-- Botones insertados por JS -->
        </div>

        <!-- MODAL DE CARTA -->
        <div id="open-when-modal" class="hidden fixed inset-0 z-50 items-center justify-center bg-purple-900/40 backdrop-blur-md transition-opacity duration-300" role="dialog" aria-modal="true">
            <div id="modal-content" class="glass rounded-[2rem] p-8 md:p-12 max-w-md md:max-w-lg w-full shadow-2xl relative border-t-8 border-pink-400 animate-pop-in">
                <!-- Contenido del modal por JS -->
            </div>
        </div>
    </section>

    <!-- 5. PLAYLIST -->
    <section id="playlist" class="py-20 px-4 max-w-3xl mx-auto">
         <div class="text-center mb-12">
            <div class="inline-block p-4 glass rounded-full shadow-sm mb-4">
                <i data-lucide="music" class="w-8 h-8 text-pink-500"></i>
            </div>
            <h2 class="text-4xl md:text-5xl font-black text-gray-800 drop-shadow-sm tracking-tight">Soundtrack</h2>
        </div>
        <div class="glass p-2 rounded-[2rem] shadow-2xl border border-white/50 transform hover:scale-[1.01] transition-transform duration-500 bg-white/30">
             <iframe 
                style="border-radius: 24px" 
                src="https://open.spotify.com/embed/playlist/2TRy6O7KcV1kNLAvXqiAVq?utm_source=generator&theme=0" 
                width="100%" 
                height="400" 
                frameborder="0" 
                allowfullscreen="" 
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy"
                title="Spotify Playlist Nadia & Luis"
            ></iframe>
        </div>
    </section>

    <!-- 6. ¬øPOR QU√â TE AMO? -->
    <section id="reasons" class="py-20 px-4 bg-gradient-to-br from-white via-pink-50 to-purple-50">
        <div class="max-w-6xl mx-auto text-center">
            <i data-lucide="heart-handshake" class="w-16 h-16 text-red-400 mx-auto mb-6 animate-pulse drop-shadow-md"></i>
            <h2 class="text-4xl md:text-5xl font-black text-gray-800 mb-8 drop-shadow-sm tracking-tight">Razones Infinitas</h2>
            <p class="text-xl text-gray-600 mb-12 font-handwriting text-2xl max-w-2xl mx-auto">
                Podr√≠a escribir un libro, pero empecemos con estas...
            </p>
            <div id="reasons-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 text-left">
                <!-- Razones insertadas por JS -->
            </div>
        </div>
    </section>

    <!-- 7. CONTADOR SUPREMO (RESTAURADO CON LOGICA COMPLETA) -->
    <section id="supreme-counter" class="py-24 px-4 glass backdrop-blur-md mt-12 border-t border-white/50">
        <div class="max-w-6xl mx-auto">
             <div class="text-center mb-16">
                <h1 class="text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-pink-500 mb-6 drop-shadow-sm tracking-tight">
                    Nuestro Universo en N√∫meros
                </h1>
                <h2 class="text-lg md:text-xl text-gray-600 font-light glass inline-block px-8 py-3 rounded-full shadow-sm">
                    Estad√≠sticas calculadas desde el primer "Hola".
                </h2>
            </div>
            <!-- Grid restaurado con 3 bloques completos -->
            <div id="stats-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
                <!-- Bloques de estad√≠sticas insertados por JS -->
            </div>
        </div>
    </section>

    <footer class="py-12 text-center text-gray-400 text-sm glass border-t border-white/30">
        <p class="mb-2">¬© 2025 NadiayLuis.art</p>
        <p class="flex items-center justify-center gap-2">Hecho con <i data-lucide="heart" class="w-3 h-3 text-red-500 fill-current"></i> eterno.</p>
    </footer>

    <script>
        // Configuraci√≥n de la aplicaci√≥n
        const START_DATE = new Date('2025-05-11T23:23:00').getTime(); 
        
        // --- DATA ---
        
        const RDM_DATA = [
            { date: "Octubre 2025", title: "Carrera de Disfraces", icon: "trophy", image: "https://i.imgur.com/NADoali.png", story: "El cumplea√±os y la meta cruzada. Vestidos rid√≠culamente genial, demostramos que la diversi√≥n es nuestro mejor premio." },
            { date: "Septiembre 2025", title: "Sushi Sorpresa", icon: "utensils", image: "https://i.imgur.com/8KdnXcO.png", story: "Esa cara de felicidad al ver el sushi vali√≥ cada segundo de espera. Peque√±os deseos, grandes momentos." },
            { date: "Agosto 2025", title: "Aventura en Huasca", icon: "map-pin", image: "https://i.imgur.com/6oUe2OE.png", story: "Sin dinero, con lluvia, con fr√≠o... pero juntos. El mejor viaje de todos porque el destino eras t√∫." },
            { date: "Julio 2025", title: "Primer Mes", icon: "calendar-heart", image: "https://i.imgur.com/meMSF3e.png", story: "Tacos y confesiones en video. El inicio oficial de esta locura hermosa." },
            { date: "Junio 2025", title: "Maruchan & Cars", icon: "film", image: "https://i.imgur.com/2JLEukH.png", story: "Lo simple es perfecto. Sopas instant√°neas, una pel√≠cula y la certeza de que no quer√≠a estar en otro lado." }
        ];

        const POEMS_DATA = [
            { title: "El Ritmo que Cede", body: `Tus ojitos caf√©s, no los dejo de ver.\nme miran y el mundo empieza a ceder.\nNo entiendo este ritmo, ni quiero entender,\nsolo s√© que contigo, todo puede ser.`, author: "Luis" },
            { title: "Primer Beso", body: `Ese primer beso me hizo temblar,\ntu abrazo travieso me hizo volar.\nTan corto el momento, tan claro el deseo,\ndesde ese segundo supe que te quiero.`, author: "Luis" },
            { title: "Tiempo", body: `El tiempo va r√°pido, sin descansar,\npero entre tus brazos se deja llevar.\nY aunque fue tan r√°pido lo que empez√≥,\ncada d√≠a contigo‚Ä¶ se siente mejor.`, author: "Luis" },
            { title: "Destino", body: `No hubo se√±ales, ni explicaci√≥n,\nsolo ese momento y la conexi√≥n.\nLlegaste a mi vida, sin darme opci√≥n,\ny en menos de nada, todo cambi√≥.`, author: "Luis" },
        ];

        const OPEN_WHEN_DATA = [
            { id: 'extra√±as', title: "Si me extra√±as", icon: "heart", color: "text-red-500", content: "Cierra los ojos. Estoy pensando en ti justo ahora. Recuerda nuestro √∫ltimo abrazo; pronto te dar√© otro igual o mejor." },
            { id: 'triste', title: "Si est√°s triste", icon: "frown", color: "text-purple-500", content: "Est√° bien no estar bien a veces. Eres humana y eres hermosa incluso en d√≠as grises. Te mando toda mi fuerza." },
            { id: 'querer', title: "Necesitas amor", icon: "star", color: "text-pink-500", content: "Eres mi persona favorita. Adoro tu risa, tu mente y tu coraz√≥n. Te amo infinitamente." },
            { id: 'reir', title: "Necesitas re√≠r", icon: "laugh", color: "text-purple-600", content: "¬øSabes qu√© hace un pez mago? ¬°Nada por aqu√≠, nada por all√°! üê†‚ú® (Perd√≥n por el chiste malo, pero sonr√≠e)." },
            { id: 'mal-dia', title: "Mal d√≠a", icon: "cloud-rain", color: "text-gray-500", content: "Este d√≠a acabar√° pronto. Ma√±ana es una nueva oportunidad. Y recuerda: tienes un vale por un masaje gratis." },
            { id: 'motivacion', title: "Motivaci√≥n", icon: "zap", color: "text-red-500", content: "Eres capaz de cosas incre√≠bles. No dudes de ti misma ni un segundo. ¬°Ve y c√≥mete el mundo!" },
            { id: 'ansiosa', title: "Ansiedad", icon: "wind", color: "text-pink-400", content: "Inhala... 1, 2, 3. Exhala... 1, 2, 3. Est√°s aqu√≠, est√°s a salvo, y te amo. Esto es temporal." },
        ];

        const REASONS_DATA = [
            { title: "Tu Paz", desc: "Eres mi calma en medio del caos. Un abrazo tuyo reinicia mi sistema." },
            { title: "Tu Risa", desc: "El sonido m√°s bonito del mundo. Tiene el poder de cambiar mi humor instant√°neamente." },
            { title: "Tu Apoyo", desc: "Siempre est√°s ah√≠, impuls√°ndome a ser mejor sin intentar cambiarme." },
            { title: "Tu Mente", desc: "Me encanta c√≥mo piensas, c√≥mo cuestionas y c√≥mo aprendes. Nunca dejas de sorprenderme." },
            { title: "Tu Resiliencia", desc: "Admiro tu fuerza para levantarte. Eres mucho m√°s fuerte de lo que crees." },
            { title: "Nuestra Confianza", desc: "Poder decirte todo sin miedo es el regalo m√°s grande que me has dado." },
            { title: "Tus Detalles", desc: "La forma en que cuidas las peque√±as cosas hace que la vida se sienta grande." },
            { title: "Tus Ojos", desc: "Tienen una luz y una profundidad donde me encanta perderme." },
            { title: "Ser T√∫", desc: "Simplemente por existir y elegir compartir tu vida conmigo.", fullWidth: true }
        ];

        // --- FUNCIONES ---

        const f = (numero, decimales = 0) => parseFloat(numero.toFixed(decimales)).toLocaleString('es-MX');

        window.scrollToSection = function(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }
        
        window.scrollToTop = function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // --- LOGICA DE NAVEGACION CARRUSEL ---
        window.scrollCarousel = function(direction) {
            const container = document.getElementById('rdm-grid');
            const scrollAmount = 350; // Ancho aproximado de una tarjeta
            if (container) {
                container.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
            }
        }

        // --- BARRA DE PROGRESO Y BACK TO TOP ---
        window.onscroll = function() {
            // Barra de progreso
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("scroll-progress").style.width = scrolled + "%";

            // Bot√≥n Back to Top
            const backToTopBtn = document.getElementById('backToTopBtn');
            if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        };

        // --- CONTADOR HERO EN VIVO ---
        function updateHeroTimer() {
            const now = new Date().getTime();
            const distance = now - START_DATE;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            const elDays = document.getElementById('hero-days');
            const elHours = document.getElementById('hero-hours');
            const elMin = document.getElementById('hero-minutes');
            const elSec = document.getElementById('hero-seconds');

            if (elDays) elDays.innerText = days;
            if (elHours) elHours.innerText = hours;
            if (elMin) elMin.innerText = minutes;
            if (elSec) elSec.innerText = seconds;
        }

        // --- RENDERIZADO ---

        function renderRDM() {
            const container = document.getElementById('rdm-grid');
            if (!container) return;
            container.innerHTML = RDM_DATA.map((item, index) => `
                <div class="carousel-card min-w-[85vw] md:min-w-[400px] snap-center flex flex-col h-full border border-gray-100">
                    <div class="h-64 overflow-hidden mb-4 rounded-xl bg-gray-100 relative group">
                        <img 
                            src="${item.image}" 
                            alt="${item.title}" 
                            class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"
                            onerror="this.src='https://placehold.co/600x400/pink/white?text=Foto';"
                        >
                        <div class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-pink-500 shadow-md">
                            ${item.date}
                        </div>
                    </div>
                    <div class="px-2 flex-grow flex flex-col">
                        <div class="flex items-center gap-2 mb-2">
                             <div class="p-2 bg-purple-50 rounded-full text-purple-500">
                                <i data-lucide="${item.icon}" class="w-4 h-4"></i>
                             </div>
                             <h3 class="font-bold text-2xl text-gray-800">${item.title}</h3>
                        </div>
                        <p class="text-gray-600 text-sm leading-relaxed border-t border-dashed border-gray-100 pt-3 mt-auto">
                            ${item.story}
                        </p>
                    </div>
                </div>
            `).join('');
        }

        function renderPoems() {
             const container = document.getElementById('poems-grid');
             container.innerHTML = POEMS_DATA.map(poem => `
                <div class="bg-white/50 backdrop-blur-md p-8 rounded-tr-[3rem] rounded-bl-[3rem] shadow-sm border border-white/60 hover:shadow-md transition-all">
                    <div class="text-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-800 tracking-tight">${poem.title}</h3>
                        <div class="w-16 h-1 bg-pink-300 mx-auto mt-2 rounded-full"></div>
                    </div>
                    <p class="whitespace-pre-wrap text-gray-700 text-center leading-loose italic font-medium">${poem.body}</p>
                    <p class="text-right text-xs text-purple-500 mt-6 font-bold uppercase tracking-widest opacity-60">‚Äî ${poem.author}</p>
                </div>
            `).join('');
        }

        function renderOpenWhen() {
            const container = document.getElementById('open-when-grid');
            container.innerHTML = OPEN_WHEN_DATA.map(card => `
                <button onclick="showOpenWhenModal('${card.id}')" class="flex flex-col items-center justify-center p-3 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group w-full h-auto min-h-[100px]">
                    <div class="mb-2 p-2 bg-gray-50 rounded-full group-hover:bg-pink-50 transition-colors">
                        <i data-lucide="${card.icon}" class="w-5 h-5 ${card.color}"></i>
                    </div>
                    <span class="text-[10px] md:text-xs font-bold text-gray-600 text-center uppercase tracking-wide group-hover:text-pink-500 leading-tight">${card.title}</span>
                </button>
            `).join('');
        }

        function showOpenWhenModal(id) {
            const card = OPEN_WHEN_DATA.find(c => c.id === id);
            const modal = document.getElementById('open-when-modal');
            const content = document.getElementById('modal-content');
            
            content.innerHTML = `
                <button onclick="hideOpenWhenModal()" class="absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors bg-white rounded-full p-2 shadow-sm">‚úï</button>
                <div class="flex justify-center mb-6">
                    <div class="p-6 bg-pink-50 rounded-full animate-bounce shadow-inner">
                        <i data-lucide="${card.icon}" class="w-10 h-10 ${card.color}"></i>
                    </div>
                </div>
                <h3 class="text-3xl font-black text-center text-gray-800 mb-6 font-handwriting">${card.title}</h3>
                <p class="text-lg text-gray-600 text-center leading-relaxed font-medium px-4">${card.content}</p>
                <div class="mt-8 text-center">
                    <button onclick="hideOpenWhenModal()" class="px-8 py-3 bg-gray-800 text-white rounded-full font-bold hover:bg-gray-700 transition-all shadow-lg text-sm uppercase tracking-wider">Le√≠do con Amor ‚ù§Ô∏è</button>
                </div>
            `;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            lucide.createIcons();
        }

        function hideOpenWhenModal() {
            const modal = document.getElementById('open-when-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function renderReasons() {
            const container = document.getElementById('reasons-grid');
            container.innerHTML = REASONS_DATA.map((item, idx) => `
                <div class="bg-white/70 backdrop-blur-sm p-8 rounded-3xl shadow-sm hover:shadow-xl hover:scale-[1.02] transition-all duration-300 border border-white group ${item.fullWidth ? 'md:col-span-2 lg:col-span-3 bg-gradient-to-r from-pink-50 to-purple-50' : ''}">
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-4xl font-black text-pink-200 group-hover:text-pink-400 transition-colors">0${idx + 1}</span>
                        <h3 class="text-xl font-bold text-gray-800">${item.title}</h3>
                    </div>
                    <p class="text-gray-600 leading-relaxed">${item.desc}</p>
                </div>
            `).join('');
        }

        // --- ESTAD√çSTICAS RESTAURADAS ---
        function renderStatBlockItem(valueId, unit, detail, color) {
            return `
                <div class="mb-6 last:mb-0 border-b border-dashed border-gray-200 pb-4 last:border-0 last:pb-0">
                    <span class="block text-4xl md:text-5xl font-black ${color} font-mono tracking-tighter" id="${valueId}">0</span>
                    <span class="text-xs uppercase tracking-widest text-gray-500 font-bold block mt-1">${unit}</span>
                    <p class="text-sm text-gray-500 italic mt-1 opacity-70 border-l-2 border-pink-200 pl-2">${detail}</p>
                </div>
            `;
        }

        function initializeStatsGrid() {
            const container = document.getElementById('stats-grid');
            
            // 1. TIEMPO
            const htmlTiempo = `<div class="p-3 bg-blue-50 rounded-xl w-fit mb-6 shadow-sm"><i data-lucide="clock" class="text-blue-500 w-8 h-8"></i></div>`;
            const contentTiempo = 
                renderStatBlockItem('sc-anios', 'A√±os', 'Calculado cient√≠ficamente (365.25 d√≠as).', 'text-blue-500') +
                renderStatBlockItem('sc-meses', 'Meses', 'Cada uno una nueva aventura.', 'text-blue-400') +
                renderStatBlockItem('sc-horas', 'Horas', 'No desperdiciamos ni una.', 'text-blue-300');

            // 2. FISIOLOGICO
            const htmlFisio = `<div class="p-3 bg-red-50 rounded-xl w-fit mb-6 shadow-sm"><i data-lucide="heart-pulse" class="text-red-500 w-8 h-8"></i></div>`;
            const contentFisio = 
                renderStatBlockItem('sc-latidos', 'Latidos', '75 latidos por minuto.', 'text-red-600') + 
                renderStatBlockItem('sc-sangre', 'Litros de Sangre', 'El coraz√≥n no para por ti (5.5L/min).', 'text-red-500') +
                renderStatBlockItem('sc-respiraciones', 'Respiraciones', 'Suspiros incluidos (16/min).', 'text-red-400') +
                renderStatBlockItem('sc-parpadeos', 'Parpadeos', 'No me pierdo nada (15/min).', 'text-red-300');
            
            // 3. UNIVERSAL
            const htmlUni = `<div class="p-3 bg-purple-50 rounded-xl w-fit mb-6 shadow-sm"><i data-lucide="rocket" class="text-purple-500 w-8 h-8"></i></div>`;
            const contentUni = 
                renderStatBlockItem('sc-orbitaSol', 'KM (√ìrbita Solar)', 'Viajamos a 107,000 km/h juntos.', 'text-purple-600') + 
                renderStatBlockItem('sc-viaLactea', 'KM (V√≠a L√°ctea)', 'A 220 km/s por la galaxia.', 'text-purple-500') +
                renderStatBlockItem('sc-orbitasLunares', 'Vueltas a la Luna', 'La luna es testigo (27.32 d√≠as).', 'text-purple-400') +
                renderStatBlockItem('sc-abrazos', 'Abrazos', 'Estimando 5 diarios (m√≠nimo).', 'text-pink-500');

            container.innerHTML = `
                <div class="glass p-8 rounded-3xl border border-white/60 transform hover:-translate-y-1 transition-transform duration-300">${htmlTiempo}${contentTiempo}</div>
                <div class="glass p-8 rounded-3xl border border-white/60 transform hover:-translate-y-1 transition-transform duration-300">${htmlFisio}${contentFisio}</div>
                <div class="glass p-8 rounded-3xl border border-white/60 transform hover:-translate-y-1 transition-transform duration-300">${htmlUni}${contentUni}</div>
            `;
        }

        function updateSupremeCounter() {
            const SEGUNDOS_EN_MINUTO = 60;
            const SEGUNDOS_EN_HORA = 3600;
            const SEGUNDOS_EN_DIA = 86400;
            const SEGUNDOS_EN_MES = 2629746; // Promedio
            const SEGUNDOS_EN_ANIO = 31556952;
            
            const LATIDOS_POR_MINUTO = 75;
            const SANGRE_POR_MINUTO = 5.5;
            const RESPIROS_POR_MINUTO = 16;
            const PARPADEOS_POR_MINUTO = 15;
            
            const KM_POR_HORA_ORBITA_SOL = 107000;
            const KM_POR_SEGUNDO_VIA_LACTEA = 220;
            const DIAS_ORBITA_LUNAR = 27.32;

            const ahoraMs = new Date().getTime();
            let diferenciaMs = ahoraMs - START_DATE;
            if (diferenciaMs < 0) diferenciaMs = 0;

            const totalSegundos = diferenciaMs / 1000;
            const totalMinutos = totalSegundos / 60;
            const totalHoras = totalSegundos / 3600;
            const totalDias = totalSegundos / SEGUNDOS_EN_DIA;

            // Bloque Tiempo
            const scAnios = document.getElementById('sc-anios');
            if(scAnios) scAnios.textContent = f(totalSegundos / SEGUNDOS_EN_ANIO, 4);

            const scMeses = document.getElementById('sc-meses');
            if(scMeses) scMeses.textContent = f(totalSegundos / SEGUNDOS_EN_MES, 2);

            const scHoras = document.getElementById('sc-horas');
            if(scHoras) scHoras.textContent = f(totalHoras, 0);

            // Bloque Fisiol√≥gico
            const scLatidos = document.getElementById('sc-latidos');
            if (scLatidos) scLatidos.textContent = f(totalMinutos * LATIDOS_POR_MINUTO, 0);

            const scSangre = document.getElementById('sc-sangre');
            if (scSangre) scSangre.textContent = f(totalMinutos * SANGRE_POR_MINUTO, 0);
            
            const scRespiraciones = document.getElementById('sc-respiraciones');
            if (scRespiraciones) scRespiraciones.textContent = f(totalMinutos * RESPIROS_POR_MINUTO, 0);
            
            const scParpadeos = document.getElementById('sc-parpadeos');
            if (scParpadeos) scParpadeos.textContent = f(totalMinutos * PARPADEOS_POR_MINUTO, 0);
            
            // Bloque Universal
            const scOrbitaSol = document.getElementById('sc-orbitaSol');
            if (scOrbitaSol) scOrbitaSol.textContent = f(totalHoras * KM_POR_HORA_ORBITA_SOL, 0);
            
            const scViaLactea = document.getElementById('sc-viaLactea');
            if (scViaLactea) scViaLactea.textContent = f(totalSegundos * KM_POR_SEGUNDO_VIA_LACTEA, 0);

            const scOrbitasLunares = document.getElementById('sc-orbitasLunares');
            if (scOrbitasLunares) scOrbitasLunares.textContent = f(totalDias / DIAS_ORBITA_LUNAR, 2);
            
            const scAbrazos = document.getElementById('sc-abrazos');
            if (scAbrazos) scAbrazos.textContent = f(totalDias * 5, 0);
        }

        // --- PART√çCULAS ---
        let canvas, ctx, particles = [];
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles(); 
        }
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.color = `rgba(${255}, ${Math.random()*100+100}, ${Math.random()*100+150}, ${Math.random()*0.4+0.1})`;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        function initParticles() {
            particles = [];
            for (let i = 0; i < 80; i++) particles.push(new Particle());
        }
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }

        // --- CORAZONES GLOBAL ---
        const HEART_SVG = `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 fill-current"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`;
        window.addHeart = function() {
            const container = document.getElementById('hearts-container');
            const heart = document.createElement('div');
            heart.className = 'absolute bottom-0 text-pink-400 animate-float-up text-4xl';
            heart.style.left = `${Math.random() * 90 + 5}%`;
            heart.innerHTML = HEART_SVG; 
            container.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', function () {
            canvas = document.getElementById('particleCanvas');
            ctx = canvas.getContext('2d');
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            animateParticles();

            renderRDM();
            renderPoems();
            renderOpenWhen();
            renderReasons();
            initializeStatsGrid();
            
            // Iniciar contadores
            setInterval(updateHeroTimer, 1000);
            updateHeroTimer(); // Primera llamada inmediata

            setInterval(updateSupremeCounter, 1000);
            updateSupremeCounter();

            lucide.createIcons();
        });
    </script>
</body>
</html>
